theme(legend.position="bottom", legend.title = element_text(size = 8.4, face = 'bold',),
legend.text = element_text(size = 8.4, margin = margin(t = 1)), panel.grid.minor = element_line(colour = 'gray96'),
legend.key.size = unit(1,'line'), plot.margin = unit(c(1, 3, 1, 3), 'cm'),
legend.title.align = 0.5, legend.text.align = 0.5)+
guides(col = guide_legend(nrow = 1))+
scale_x_continuous(trans='log10')+
scale_y_continuous(trans = 'log10')
ggsave('../Results/ggplot_graph.pdf', plot = last_plot(), width = 6, height = 8.2,
dpi = 300)
rm(list = ls())
MyDF <- read.csv("../data/EcolArchives-E089-51-D1.csv")
attach(MyDF)
#Get indexes of positions where units are in mg
ind = which(MyDF$Prey.mass.unit == 'mg')
MyDF$Prey.mass[ind] = MyDF$Prey.mass[ind]/1000
require(plyr)
require(ggplot2)
require(gridExtra)
require(cowplot)
table = ddply(MyDF, .(Type.of.feeding.interaction, Predator.lifestage), summarize,
prey.mass = Prey.mass, predator.mass = Predator.mass)
ggplot(MyDF, aes(Prey.mass, Predator.mass)) +
geom_point(shape = 3, aes(colour = Predator.lifestage)) +
geom_smooth(method = 'lm', aes(colour = MyDF$Predator.lifestage), fullrange = T, size = 0.5) +
xlab("Prey mass in grams") + ylab("Predator mass in grams") +
facet_grid(MyDF$Type.of.feeding.interaction ~ .) + #To arrange them by rows, put the ~ . at the right
theme_bw()+
theme(legend.position="bottom", legend.title = element_text(size = 8.4, face = 'bold',),
legend.text = element_text(size = 8.4, margin = margin(t = 0.5)), panel.grid.minor = element_line(colour = 'gray96'),
legend.key.size = unit(1,'line'), plot.margin = unit(c(1, 3, 1, 3), 'cm'),
legend.title.align = 0.5, legend.text.align = 0.5)+
guides(col = guide_legend(nrow = 1))+
scale_x_continuous(trans='log10')+
scale_y_continuous(trans = 'log10')
ggsave('../Results/ggplot_graph.pdf', plot = last_plot(), width = 6, height = 8.2,
dpi = 300)
rm(list = ls())
MyDF <- read.csv("../data/EcolArchives-E089-51-D1.csv")
attach(MyDF)
#Get indexes of positions where units are in mg
ind = which(MyDF$Prey.mass.unit == 'mg')
MyDF$Prey.mass[ind] = MyDF$Prey.mass[ind]/1000
require(plyr)
require(ggplot2)
require(gridExtra)
require(cowplot)
table = ddply(MyDF, .(Type.of.feeding.interaction, Predator.lifestage), summarize,
prey.mass = Prey.mass, predator.mass = Predator.mass)
ggplot(MyDF, aes(Prey.mass, Predator.mass)) +
geom_point(shape = 3, aes(colour = Predator.lifestage)) +
geom_smooth(method = 'lm', aes(colour = MyDF$Predator.lifestage), fullrange = T, size = 0.5) +
xlab("Prey mass in grams") + ylab("Predator mass in grams") +
facet_grid(MyDF$Type.of.feeding.interaction ~ .) + #To arrange them by rows, put the ~ . at the right
theme_bw()+
theme(legend.position="bottom", legend.title = element_text(size = 8.4, face = 'bold',),
legend.text = element_text(size = 8.4, margin = margin(t = 0.5)), panel.grid.minor = element_line(colour = 'gray96'),
legend.key.size = unit(1,'line'), plot.margin = unit(c(1, 3, 1, 3), 'cm'),
legend.spacing.x = unit(0.1, 'cm')
legend.title.align = 0.5, legend.text.align = 0.5)+
guides(col = guide_legend(nrow = 1))+
scale_x_continuous(trans='log10')+
scale_y_continuous(trans = 'log10')
ggsave('../Results/ggplot_graph.pdf', plot = last_plot(), width = 6, height = 8.2,
dpi = 300)
rm(list = ls())
MyDF <- read.csv("../data/EcolArchives-E089-51-D1.csv")
attach(MyDF)
#Get indexes of positions where units are in mg
ind = which(MyDF$Prey.mass.unit == 'mg')
MyDF$Prey.mass[ind] = MyDF$Prey.mass[ind]/1000
require(plyr)
require(ggplot2)
require(gridExtra)
require(cowplot)
table = ddply(MyDF, .(Type.of.feeding.interaction, Predator.lifestage), summarize,
prey.mass = Prey.mass, predator.mass = Predator.mass)
ggplot(MyDF, aes(Prey.mass, Predator.mass)) +
geom_point(shape = 3, aes(colour = Predator.lifestage)) +
geom_smooth(method = 'lm', aes(colour = MyDF$Predator.lifestage), fullrange = T, size = 0.5) +
xlab("Prey mass in grams") + ylab("Predator mass in grams") +
facet_grid(MyDF$Type.of.feeding.interaction ~ .) + #To arrange them by rows, put the ~ . at the right
theme_bw()+
theme(legend.position="bottom", legend.title = element_text(size = 8.4, face = 'bold',),
legend.text = element_text(size = 8.4, margin = margin(t = 0.5)), panel.grid.minor = element_line(colour = 'gray96'),
legend.key.size = unit(1,'line'), plot.margin = unit(c(1, 3, 1, 3), 'cm'),
legend.spacing.x = unit(0.1, 'cm'),
legend.title.align = 0.5, legend.text.align = 0.5)+
guides(col = guide_legend(nrow = 1))+
scale_x_continuous(trans='log10')+
scale_y_continuous(trans = 'log10')
ggsave('../Results/ggplot_graph.pdf', plot = last_plot(), width = 6, height = 8.2,
dpi = 300)
rm(list = ls())
MyDF <- read.csv("../data/EcolArchives-E089-51-D1.csv")
attach(MyDF)
#Get indexes of positions where units are in mg
ind = which(MyDF$Prey.mass.unit == 'mg')
MyDF$Prey.mass[ind] = MyDF$Prey.mass[ind]/1000
require(plyr)
require(ggplot2)
require(gridExtra)
require(cowplot)
table = ddply(MyDF, .(Type.of.feeding.interaction, Predator.lifestage), summarize,
prey.mass = Prey.mass, predator.mass = Predator.mass)
ggplot(MyDF, aes(Prey.mass, Predator.mass)) +
geom_point(shape = 3, aes(colour = Predator.lifestage)) +
geom_smooth(method = 'lm', aes(colour = MyDF$Predator.lifestage), fullrange = T, size = 0.5) +
xlab("Prey mass in grams") + ylab("Predator mass in grams") +
facet_grid(MyDF$Type.of.feeding.interaction ~ .) + #To arrange them by rows, put the ~ . at the right
theme_bw()+
theme(legend.position="bottom", legend.title = element_text(size = 8.4, face = 'bold',),
legend.text = element_text(size = 8.4, margin = margin(t = 0.5)), panel.grid.minor = element_line(colour = 'gray96'),
legend.key.size = unit(1,'line'), plot.margin = unit(c(1, 3, 1, 3), 'cm'),
legend.spacing.x = unit(0.08, 'cm'),
legend.title.align = 0.5, legend.text.align = 0.5)+
guides(col = guide_legend(nrow = 1))+
scale_x_continuous(trans='log10')+
scale_y_continuous(trans = 'log10')
ggsave('../Results/ggplot_graph.pdf', plot = last_plot(), width = 6, height = 8.2,
dpi = 300)
rm(list = ls())
MyDF <- read.csv("../data/EcolArchives-E089-51-D1.csv")
attach(MyDF)
#Get indexes of positions where units are in mg
ind = which(MyDF$Prey.mass.unit == 'mg')
MyDF$Prey.mass[ind] = MyDF$Prey.mass[ind]/1000
require(plyr)
require(ggplot2)
require(gridExtra)
require(cowplot)
table = ddply(MyDF, .(Type.of.feeding.interaction, Predator.lifestage), summarize,
prey.mass = Prey.mass, predator.mass = Predator.mass)
ggplot(MyDF, aes(Prey.mass, Predator.mass)) +
geom_point(shape = 3, aes(colour = Predator.lifestage)) +
geom_smooth(method = 'lm', aes(colour = MyDF$Predator.lifestage), fullrange = T, size = 0.5) +
xlab("Prey mass in grams") + ylab("Predator mass in grams") +
facet_grid(MyDF$Type.of.feeding.interaction ~ .) + #To arrange them by rows, put the ~ . at the right
theme_bw()+
theme(legend.position="bottom", legend.title = element_text(size = 8.4, face = 'bold',),
legend.text = element_text(size = 8.4, margin = margin(t = 0.5)), panel.grid.minor = element_line(colour = 'gray96'),
legend.key.size = unit(1,'line'), plot.margin = unit(c(1, 3, 1, 3), 'cm'),
legend.spacing.x = unit(0.05, 'cm'),
legend.title.align = 0.5, legend.text.align = 0.5)+
guides(col = guide_legend(nrow = 1))+
scale_x_continuous(trans='log10')+
scale_y_continuous(trans = 'log10')
ggsave('../Results/ggplot_graph.pdf', plot = last_plot(), width = 6, height = 8.2,
dpi = 300)
rm(list = ls())
MyDF <- read.csv("../data/EcolArchives-E089-51-D1.csv")
attach(MyDF)
#Get indexes of positions where units are in mg
ind = which(MyDF$Prey.mass.unit == 'mg')
MyDF$Prey.mass[ind] = MyDF$Prey.mass[ind]/1000
require(plyr)
require(ggplot2)
require(gridExtra)
require(cowplot)
table = ddply(MyDF, .(Type.of.feeding.interaction, Predator.lifestage), summarize,
prey.mass = Prey.mass, predator.mass = Predator.mass)
ggplot(MyDF, aes(Prey.mass, Predator.mass)) +
geom_point(shape = 3, aes(colour = Predator.lifestage)) +
geom_smooth(method = 'lm', aes(colour = MyDF$Predator.lifestage), fullrange = T, size = 0.5) +
xlab("Prey mass in grams") + ylab("Predator mass in grams") +
facet_grid(MyDF$Type.of.feeding.interaction ~ .) + #To arrange them by rows, put the ~ . at the right
theme_bw()+
theme(legend.position="bottom", legend.title = element_text(size = 8.4, face = 'bold',),
legend.text = element_text(size = 8.4, margin = margin(t = 0.5)), panel.grid.minor = element_line(colour = 'gray96'),
legend.key.size = unit(1,'line'), plot.margin = unit(c(1, 3, 1, 3), 'cm'),
legend.spacing.x = unit(0.05, 'cm'),
legend.title.align = 0.5, legend.text.align = 0.5)+
guides(col = guide_legend(nrow = 1))+
scale_x_continuous(trans='log10')+
scale_y_continuous(trans = 'log10')
ggsave('../Results/ggplot_graph.pdf', plot = last_plot(), width = 6, height = 8.5,
dpi = 300)
rm(list = ls())
MyDF <- read.csv("../data/EcolArchives-E089-51-D1.csv")
attach(MyDF)
#Get indexes of positions where units are in mg
ind = which(MyDF$Prey.mass.unit == 'mg')
MyDF$Prey.mass[ind] = MyDF$Prey.mass[ind]/1000
require(plyr)
require(ggplot2)
require(gridExtra)
require(cowplot)
table = ddply(MyDF, .(Type.of.feeding.interaction, Predator.lifestage), summarize,
prey.mass = Prey.mass, predator.mass = Predator.mass)
ggplot(MyDF, aes(Prey.mass, Predator.mass)) +
geom_point(shape = 3, aes(colour = Predator.lifestage)) +
geom_smooth(method = 'lm', aes(colour = MyDF$Predator.lifestage), fullrange = T, size = 0.5) +
xlab("Prey mass in grams") + ylab("Predator mass in grams") +
facet_grid(MyDF$Type.of.feeding.interaction ~ .) + #To arrange them by rows, put the ~ . at the right
theme_bw()+
theme(legend.position="bottom", legend.title = element_text(size = 8.4, face = 'bold',),
legend.text = element_text(size = 8.4, margin = margin(t = 0.5)), panel.grid.minor = element_line(colour = 'gray96'),
legend.key.size = unit(1,'line'), plot.margin = unit(c(1, 3, 1, 3), 'cm'),
legend.spacing.x = unit(0.05, 'cm'),
legend.title.align = 0.5, legend.text.align = 0.5)+
guides(col = guide_legend(nrow = 1))+
scale_x_continuous(trans='log10')+
scale_y_continuous(trans = 'log10')
ggsave('../Results/ggplot_graph.pdf', plot = last_plot(), width = 6, height = 8.7,
dpi = 300)
rm(list = ls())
MyDF <- read.csv("../data/EcolArchives-E089-51-D1.csv")
attach(MyDF)
#Get indexes of positions where units are in mg
ind = which(MyDF$Prey.mass.unit == 'mg')
MyDF$Prey.mass[ind] = MyDF$Prey.mass[ind]/1000
require(plyr)
require(ggplot2)
require(gridExtra)
require(cowplot)
table = ddply(MyDF, .(Type.of.feeding.interaction, Predator.lifestage), summarize,
prey.mass = Prey.mass, predator.mass = Predator.mass)
ggplot(MyDF, aes(Prey.mass, Predator.mass)) +
geom_point(shape = 3, aes(colour = Predator.lifestage)) +
geom_smooth(method = 'lm', aes(colour = MyDF$Predator.lifestage), fullrange = T, size = 0.5) +
xlab("Prey mass in grams") + ylab("Predator mass in grams") +
facet_grid(MyDF$Type.of.feeding.interaction ~ .) + #To arrange them by rows, put the ~ . at the right
theme_bw()+
theme(legend.position="bottom", legend.title = element_text(size = 8.4, face = 'bold',),
legend.text = element_text(size = 8.4, margin = margin(t = 0.5)), panel.grid.minor = element_line(colour = 'gray96'),
legend.key.size = unit(1,'line'), plot.margin = unit(c(1, 3, 1, 3), 'cm'),
legend.spacing.x = unit(0.05, 'cm'),
legend.title.align = 0.5, legend.text.align = 0.5)+
guides(col = guide_legend(nrow = 1))+
scale_x_continuous(trans='log10')+
scale_y_continuous(trans = 'log10')
ggsave('../Results/ggplot_graph.pdf', plot = last_plot(), width = 6, height = 9,
dpi = 300)
rm(list = ls())
MyDF <- read.csv("../data/EcolArchives-E089-51-D1.csv")
attach(MyDF)
#Get indexes of positions where units are in mg
ind = which(MyDF$Prey.mass.unit == 'mg')
MyDF$Prey.mass[ind] = MyDF$Prey.mass[ind]/1000
require(plyr)
require(ggplot2)
require(gridExtra)
require(cowplot)
table = ddply(MyDF, .(Type.of.feeding.interaction, Predator.lifestage), summarize,
prey.mass = Prey.mass, predator.mass = Predator.mass)
ggplot(MyDF, aes(Prey.mass, Predator.mass)) +
geom_point(shape = 3, aes(colour = Predator.lifestage)) +
geom_smooth(method = 'lm', aes(colour = MyDF$Predator.lifestage), fullrange = T, size = 0.5) +
xlab("Prey mass in grams") + ylab("Predator mass in grams") +
facet_grid(MyDF$Type.of.feeding.interaction ~ .) + #To arrange them by rows, put the ~ . at the right
theme_bw()+
theme(legend.position="bottom", legend.title = element_text(size = 8.4, face = 'bold',),
legend.text = element_text(size = 8.4, margin = margin(t = 0.5)), panel.grid.minor = element_line(colour = 'gray96'),
legend.key.size = unit(1,'line'), plot.margin = unit(c(1, 3, 1, 3), 'cm'),
legend.spacing.x = unit(0.05, 'cm'),
legend.title.align = 0.5, legend.text.align = 0.5)+
guides(col = guide_legend(nrow = 1))+
scale_x_continuous(trans='log10')+
scale_y_continuous(trans = 'log10')
ggsave('../Results/ggplot_graph.pdf', plot = last_plot(), width = 6, height = 9,
dpi = 300)
rm(list = ls())
MyDF <- read.csv("../data/EcolArchives-E089-51-D1.csv")
attach(MyDF)
#Get indexes of positions where units are in mg
ind = which(MyDF$Prey.mass.unit == 'mg')
MyDF$Prey.mass[ind] = MyDF$Prey.mass[ind]/1000
require(plyr)
require(ggplot2)
require(gridExtra)
require(cowplot)
ggplot(MyDF, aes(Prey.mass, Predator.mass)) +
geom_point(shape = 3, aes(colour = Predator.lifestage)) +
geom_smooth(method = 'lm', aes(colour = MyDF$Predator.lifestage), fullrange = T, size = 0.5) +
xlab("Prey mass in grams") + ylab("Predator mass in grams") +
facet_grid(MyDF$Type.of.feeding.interaction ~ .) + #To arrange them by rows, put the ~ . at the right
theme_bw()+
theme(legend.position="bottom", legend.title = element_text(size = 8.4, face = 'bold',),
legend.text = element_text(size = 8.4, margin = margin(t = 0.5)), panel.grid.minor = element_line(colour = 'gray96'),
legend.key.size = unit(1,'line'), plot.margin = unit(c(1, 3, 1, 3), 'cm'),
legend.spacing.x = unit(0.05, 'cm'),
legend.title.align = 0.5, legend.text.align = 0.5)+
guides(col = guide_legend(nrow = 1))+
scale_x_continuous(trans='log10')+
scale_y_continuous(trans = 'log10')
ggsave('../Results/ggplot_graph.pdf', plot = last_plot(), width = 6, height = 9,
dpi = 300)
rm(list = ls())
MyDF <- read.csv("../data/EcolArchives-E089-51-D1.csv")
attach(MyDF)
#Get indexes of positions where units are in mg
ind = which(MyDF$Prey.mass.unit == 'mg')
MyDF$Prey.mass[ind] = MyDF$Prey.mass[ind]/1000
require(plyr)
require(ggplot2)
require(gridExtra)
require(cowplot)
ggplot(MyDF, aes(Prey.mass, Predator.mass)) +
geom_point(shape = I(3), aes(colour = Predator.lifestage)) +
geom_smooth(method = 'lm', aes(colour = MyDF$Predator.lifestage), fullrange = T, size = 0.5) +
xlab("Prey mass in grams") + ylab("Predator mass in grams") +
facet_grid(MyDF$Type.of.feeding.interaction ~ .) + #To arrange them by rows, put the ~ . at the right
theme_bw()+
theme(legend.position="bottom", legend.title = element_text(size = 8.4, face = 'bold',),
legend.text = element_text(size = 8.4, margin = margin(t = 0.5)), panel.grid.minor = element_line(colour = 'gray96'),
legend.key.size = unit(1,'line'), plot.margin = unit(c(1, 3, 1, 3), 'cm'),
legend.spacing.x = unit(0.05, 'cm'),
legend.title.align = 0.5, legend.text.align = 0.5)+
guides(col = guide_legend(nrow = 1))+
scale_x_continuous(trans='log10')+
scale_y_continuous(trans = 'log10')
ggsave('../Results/ggplot_graph.pdf', plot = last_plot(), width = 6, height = 9,
dpi = 300)
prey.mass[which(MyDF$Type.of.feeding.interaction == 'insectivorous')]
MyDF$Prey.mass[which(MyDF$Type.of.feeding.interaction == 'insectivorous')]
MyDF <- read.csv("../data/EcolArchives-E089-51-D1.csv")
MyDF$Prey.mass[which(MyDF$Type.of.feeding.interaction == 'insectivorous')]
MyDF$Prey.mass.unit[which(MyDF$Type.of.feeding.interaction == 'insectivorous')]
ggplot(MyDF, aes(Prey.mass, Predator.mass)) +
geom_point(shape = I(3), aes(colour = Predator.lifestage)) +
geom_smooth(method = 'lm', aes(colour = MyDF$Predator.lifestage), fullrange = T, size = 0.5) +
xlab("Prey mass in grams") + ylab("Predator mass in grams") +
facet_grid(MyDF$Type.of.feeding.interaction ~ .) + #To arrange them by rows, put the ~ . at the right
theme_bw()+
theme(legend.position="bottom", legend.title = element_text(size = 8.4, face = 'bold',),
legend.text = element_text(size = 8.4, margin = margin(t = 0.5)), panel.grid.minor = element_line(colour = 'gray96'),
legend.key.size = unit(1,'line'), plot.margin = unit(c(1, 3, 1, 3), 'cm'),
legend.spacing.x = unit(0.05, 'cm'),
legend.title.align = 0.5, legend.text.align = 0.5)+
guides(col = guide_legend(nrow = 1))+
scale_x_continuous(trans='log10')+
scale_y_continuous(trans = 'log10')
ggsave('../Results/ggplot_graph.pdf', plot = last_plot(), width = 6, height = 9,
dpi = 300)
rm(list = ls())
MyDF <- read.csv("../data/EcolArchives-E089-51-D1.csv")
attach(MyDF)
#Get indexes of positions where units are in mg
#ind = which(MyDF$Prey.mass.unit == 'mg')
#MyDF$Prey.mass[ind] = MyDF$Prey.mass[ind]/1000
MyDF$Prey.mass[which(MyDF$Prey.mass.unit=="mg")] = MyDF$Prey.mass[which(MyDF$Prey.mass.unit=="mg")]/1000
require(plyr)
require(ggplot2)
require(gridExtra)
require(cowplot)
ggplot(MyDF, aes(Prey.mass, Predator.mass)) +
geom_point(shape = I(3), aes(colour = Predator.lifestage)) +
geom_smooth(method = 'lm', aes(colour = MyDF$Predator.lifestage), fullrange = T, size = 0.5) +
xlab("Prey mass in grams") + ylab("Predator mass in grams") +
facet_grid(MyDF$Type.of.feeding.interaction ~ .) + #To arrange them by rows, put the ~ . at the right
theme_bw()+
theme(legend.position="bottom", legend.title = element_text(size = 8.4, face = 'bold',),
legend.text = element_text(size = 8.4, margin = margin(t = 0.5)), panel.grid.minor = element_line(colour = 'gray96'),
legend.key.size = unit(1,'line'), plot.margin = unit(c(1, 3, 1, 3), 'cm'),
legend.spacing.x = unit(0.05, 'cm'),
legend.title.align = 0.5, legend.text.align = 0.5)+
guides(col = guide_legend(nrow = 1))+
scale_x_continuous(trans='log10')+
scale_y_continuous(trans = 'log10')
ggsave('../Results/ggplot_graph.pdf', plot = last_plot(), width = 6, height = 9,
dpi = 300)
MyDF$Prey.mass[which(MyDF$Type.of.feeding.interaction == 'insectivorous')]
table(MyDF$Prey.mass.unit)
rm(list = ls())
MyDF <- read.csv("../data/EcolArchives-E089-51-D1.csv")
attach(MyDF)
#Get indexes of positions where units are in mg
ind = which(MyDF$Prey.mass.unit == 'mg')
MyDF$Prey.mass[ind] = MyDF$Prey.mass[ind]/1000
MyDF$Prey.mass.unit[ind] = 'g'
#MyDF$Prey.mass[which(MyDF$Prey.mass.unit=="mg")] = MyDF$Prey.mass[which(MyDF$Prey.mass.unit=="mg")]/1000
require(plyr)
require(ggplot2)
require(gridExtra)
require(cowplot)
ggplot(MyDF, aes(Prey.mass, Predator.mass)) +
geom_point(shape = I(3), aes(colour = Predator.lifestage)) +
geom_smooth(method = 'lm', aes(colour = MyDF$Predator.lifestage), fullrange = T, size = 0.5) +
xlab("Prey mass in grams") + ylab("Predator mass in grams") +
facet_grid(MyDF$Type.of.feeding.interaction ~ .) + #To arrange them by rows, put the ~ . at the right
theme_bw()+
theme(legend.position="bottom", legend.title = element_text(size = 8.4, face = 'bold',),
legend.text = element_text(size = 8.4, margin = margin(t = 0.5)), panel.grid.minor = element_line(colour = 'gray96'),
legend.key.size = unit(1,'line'), plot.margin = unit(c(1, 3, 1, 3), 'cm'),
legend.spacing.x = unit(0.05, 'cm'),
legend.title.align = 0.5, legend.text.align = 0.5)+
guides(col = guide_legend(nrow = 1))+
scale_x_continuous(trans='log10')+
scale_y_continuous(trans = 'log10')
ggsave('../Results/ggplot_graph.pdf', plot = last_plot(), width = 6, height = 9,
dpi = 300)
table(MyDF$Prey.mass.unit)
rm(list = ls())
MyDF <- read.csv("../Data/EcolArchives-E089-51-D1.csv")
#Get indexes of positions where units are in mg
ind = which(MyDF$Prey.mass.unit == 'mg')
MyDF$Prey.mass[ind] = MyDF$Prey.mass[ind]/1000
MyDF$Prey.mass.unit[ind] = 'g'
library(lattice)
library(plyr)
pdf('../Results/Pred_Lattice.pdf', 11.7, 8.3)
densityplot(~log(MyDF$Predator.mass) | MyDF$Type.of.feeding.interaction, data=MyDF)
graphics.off()
pdf('../Results/Prey_Lattice.pdf', 11.7, 8.3)
densityplot(~log(MyDF$Prey.mass) | MyDF$Type.of.feeding.interaction, data=MyDF)
graphics.off()
pdf('../Results/SizeRatio_Lattice.pdf', 11.7, 8.3)
densityplot(~log(MyDF$Prey.mass/MyDF$Predator.mass) | MyDF$Type.of.feeding.interaction, data=MyDF)
graphics.off()
table = ddply(MyDF, .(Type.of.feeding.interaction), summarize,
mean_pred = mean(log(Predator.mass)),
median_log_pred = median(log(Predator.mass)),
mean_prey = mean(log(Prey.mass)),
median_log_prey = median(log(Prey.mass)),
mean_ratio = mean(log(Prey.mass/Predator.mass)),
median_log_ratio = median(log(Prey.mass/Predator.mass)))
#quote = F avoids writing the strings enclosed by ""
write.table(table, '../Results/PP_Results.csv', row.names = F, quote = F)
table(MyDF$Prey.mass.unit)
source('PP_Regress.R')
rm(list = ls())
MyDF <- read.csv("../data/EcolArchives-E089-51-D1.csv")
#attach(MyDF)
#Get indexes of positions where units are in mg
ind = which(MyDF$Prey.mass.unit == 'mg')
MyDF$Prey.mass[ind] = MyDF$Prey.mass[ind]/1000
MyDF$Prey.mass.unit[ind] = 'g'
require(plyr)
require(ggplot2)
require(gridExtra)
require(cowplot)
ggplot(MyDF, aes(MyDF$Prey.mass, MyDF$Predator.mass)) +
geom_point(shape = I(3), aes(colour = MyDF$Predator.lifestage)) +
geom_smooth(method = 'lm', aes(colour = MyDF$Predator.lifestage), fullrange = T, size = 0.5) +
xlab("Prey mass in grams") + ylab("Predator mass in grams") +
facet_grid(MyDF$Type.of.feeding.interaction ~ .) + #To arrange them by rows, put the ~ . at the right
theme_bw()+
theme(legend.position="bottom", legend.title = element_text(size = 8.4, face = 'bold',),
legend.text = element_text(size = 8.4, margin = margin(t = 0.5)), panel.grid.minor = element_line(colour = 'gray96'),
legend.key.size = unit(1,'line'), plot.margin = unit(c(1, 3, 1, 3), 'cm'),
legend.spacing.x = unit(0.05, 'cm'),
legend.title.align = 0.5, legend.text.align = 0.5)+
guides(col = guide_legend(nrow = 1))+
scale_x_continuous(trans='log10')+
scale_y_continuous(trans = 'log10')
ggsave('../Results/ggplot_graph.pdf', plot = last_plot(), width = 6, height = 9,
dpi = 300)
paste(MyDF$Predator.lifestage, MyDF$Type.of.feeding.interaction)
paste(MyDF$Predator.lifestage, MyDF$Type.of.feeding.interaction,sep = '')
new_df = data.frame('lifestage.feeding' =
paste(MyDF$Predator.lifestage, MyDF$Type.of.feeding.interaction,sep = ''),
'prey.mass' = MyDF$Prey.mass,
'predator.mass' = MyDF$Predator.mass)
new_df
table = ddply(new_df,.(new_df$lifestage.feeding), summarize,
intercept=lm(MyDF$Predator.mass~MyDF$Prey.mass)$coef[1],
slope=lm(MyDF$Predator.mass~MyDF$Prey.mass)$coef[2])
table
rm(list = ls())
MyDF <- read.csv("../data/EcolArchives-E089-51-D1.csv")
#attach(MyDF)
#Get indexes of positions where units are in mg
ind = which(MyDF$Prey.mass.unit == 'mg')
MyDF$Prey.mass[ind] = MyDF$Prey.mass[ind]/1000
MyDF$Prey.mass.unit[ind] = 'g'
require(plyr)
require(ggplot2)
require(gridExtra)
require(cowplot)
ggplot(MyDF, aes(MyDF$Prey.mass, MyDF$Predator.mass)) +
geom_point(shape = I(3), aes(colour = MyDF$Predator.lifestage)) +
geom_smooth(method = 'lm', aes(colour = MyDF$Predator.lifestage), fullrange = T, size = 0.5) +
xlab("Prey mass in grams") + ylab("Predator mass in grams") +
facet_grid(MyDF$Type.of.feeding.interaction ~ .) + #To arrange them by rows, put the ~ . at the right
theme_bw()+
theme(legend.position="bottom", legend.title = element_text(size = 8.4, face = 'bold',),
legend.text = element_text(size = 8.4, margin = margin(t = 0.5)), panel.grid.minor = element_line(colour = 'gray96'),
legend.key.size = unit(1,'line'), plot.margin = unit(c(1, 3, 1, 3), 'cm'),
legend.spacing.x = unit(0.05, 'cm'),
legend.title.align = 0.5, legend.text.align = 0.5)+
guides(col = guide_legend(nrow = 1))+
scale_x_continuous(trans='log10')+
scale_y_continuous(trans = 'log10')
ggsave('../Results/ggplot_graph.pdf', plot = last_plot(), width = 6, height = 9,
dpi = 300)
#Linear Regressions
#Convine Predator.lifestage with Type.of.feeding.interaction to make pairs
new_df = data.frame('lifestage.feeding' =
paste(MyDF$Predator.lifestage, MyDF$Type.of.feeding.interaction,sep = ''),
'prey.mass' = MyDF$Prey.mass,
'predator.mass' = MyDF$Predator.mass)
table = ddply(new_df,.(new_df$lifestage.feeding), summarize,
intercept=lm(log10(MyDF$Predator.mass)~log10(MyDF$Prey.mass))$coef[1],
slope=lm(log10(MyDF$Predator.mass)~log10(MyDF$Prey.mass))$coef[2],
)
table
new_df
table = ddply(new_df,.(new_df$lifestage.feeding), summarize,
intercept=lm(log10(MyDF$Predator.mass)~log10(MyDF$Prey.mass))$coef[1],
slope=lm(log10(MyDF$Predator.mass)~log10(MyDF$Prey.mass))$coef[2])
table
table = ddply(new_df,.(new_df$lifestage.feeding), summarize,
intercept=lm(log10(MyDF$predator.mass)~log10(MyDF$prey.mass))$coef[1],
slope=lm(log10(MyDF$predator.mass)~log10(MyDF$prey.mass))$coef[2])
table
table = ddply(new_df,.(new_df$lifestage.feeding), summarize,
intercept=lm(log10(new_df$predator.mass)~log10(new_df$prey.mass))$coef[1],
slope=lm(log10(new_df$predator.mass)~log10(new_df$prey.mass))$coef[2])
table
table = ddply(new_df, .(new_df$lifestage.feeding), summarize,
intercept=lm(log10(new_df$predator.mass)~log10(new_df$prey.mass))$coef[1],
slope=lm(log10(new_df$predator.mass)~log10(new_df$prey.mass))$coef[2])
table
